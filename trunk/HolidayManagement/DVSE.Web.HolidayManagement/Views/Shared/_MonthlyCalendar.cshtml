@model DVSE.Web.HolidayManagement.Models.MonthlyCalendarViewModel

<div class="month-calendar">
    <input type="hidden" name="MonthIndex" value="@Model.MonthIndex" />

    <table>
        <thead>
            <tr>
                <th colspan="7" class="month-cell">@Model.Month</th>
            </tr>
            <tr>
                <th>Sun</th>
                <th>Mon</th>
                <th>Tue</th>
                <th>Wed</th>
                <th>Thu</th>
                <th>Fri</th>
                <th>Sat</th>
            </tr>
        </thead>
        <tbody>
            @{
                var weeks = Math.Ceiling((double)(Model.NumberOfDays + Model.FirstDay) / 7);
                var day = 0;    
        
                for (var i = 0; i < weeks; ++i)
                {
                    <tr>
                        @for (var j = 0; j < 7; ++j)
                        {
                            <td>
                            @if (i == 0)
                            {
                                if (j >= Model.FirstDay)
                                {
                                    @(++day) 
                                }
                            }
                            else
                            {
                                if (day < Model.NumberOfDays)
                                {
                                    @(++day)
                                }
                            }
                            </td>
                        }
                    </tr>
                }
            }
        </tbody>
    </table>
</div>